<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>명령어 블록 편집기</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <!-- 사용자 정보 헤더 -->
    <div class="user-header">
        <div class="user-info">
            <span>사용자: <span id="user-display">로딩중...</span></span>
            <span>레벨: <span id="level-display">-</span></span>
        </div>
        <div class="header-buttons">
            <button id="answer-check-btn" class="answer-check-btn">정답 확인</button>
            <button id="logout-button" class="logout-btn">로그아웃</button>
        </div>
    </div>
    
    <div class="container">
        <!-- 왼쪽 사이드바 (1/4 비율) -->
        <div class="sidebar">
            <div class="search-section">
                <input type="text" class="search-input" placeholder="명령어 검색... (이름, 설명)">
            </div>
            <div class="command-blocks" id="command-blocks-container">
                <!-- 여기에 백엔드에서 가져온 명령어 블록들이 동적으로 표시됩니다 -->
                <div class="loading">명령어 블록을 불러오는 중...</div>
            </div>
        </div>

        <!-- 오른쪽 메인 영역 (3/4 비율) -->
        <div class="main-content">
            <!-- 상단 영역 (절반) -->
            <div class="top-section">
                <!-- 터미널 출력 (왼쪽 절반) -->
                <div class="terminal-section">
                    <div class="terminal-header">
                        <div class="terminal-title">명령어 실행 결과</div>
                        <div class="terminal-controls">
                            <span class="control-dot red"></span>
                            <span class="control-dot yellow"></span>
                            <span class="control-dot green"></span>
                        </div>
                    </div>
                    <div class="terminal-content" id="terminal-content">
                        <div class="terminal-line">
                            <span class="terminal-prompt">~/<span id="terminal-username">user</span> &gt;</span>
                            <span class="terminal-cursor">_</span>
                        </div>
                    </div>
                </div>

                <!-- AI 코멘트 (오른쪽 절반) -->
                <div class="ai-comment-section">
                    <div class="ai-header">
                        <div class="ai-title">🤖 AI 코멘트</div>
                        <div class="ai-buttons">
                            <button id="ai-advice-btn" class="ai-advice-btn">명령어 결과 조언</button>
                            <button id="ai-pattern-btn" class="ai-advice-btn">명령어 패턴 추천</button>
                        </div>
                    </div>
                    <div class="ai-content">
                        <div class="ai-text">
                            <!-- AI 조언이 여기에 표시됩니다 -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- 하단 팔레트 영역 (절반) -->
            <div class="palette-section">
                <div class="palette-header">
                    <div class="palette-title">워크플로우 팔레트</div>
                    <div class="palette-controls">
                        <button class="control-btn">🗑️ 초기화</button>
                    </div>
                </div>
                <div class="palette-content">
                    <div class="workflow-area">
                        <!-- 드래그된 명령어 블록들이 여기에 표시됩니다 -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 정답 확인 모달 -->
    <div id="answer-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>정답 확인</h2>
            <form id="answer-form">
                <div class="form-group">
                    <label for="answer-input">답을 입력하세요:</label>
                    <input type="text" id="answer-input" name="answer" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn-submit">제출</button>
                    <button type="button" class="btn-cancel" onclick="closeAnswerModal()">취소</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- 명령어 패턴 추천 모달 -->
    <div id="pattern-modal" class="modal">
        <div class="modal-content pattern-modal-content">
            <span class="close pattern-close">&times;</span>
            <h2>🔍 명령어 패턴 추천</h2>
            <div id="pattern-loading" class="pattern-loading">
                패턴을 가져오는 중...
            </div>
            <div id="pattern-content" class="pattern-content" style="display: none;">
                <!-- 패턴 추천 내용이 여기에 표시됩니다 -->
            </div>
        </div>
    </div>
    
    <!-- JavaScript 파일 로드 -->
    <script src="../script/main.js"></script>
    <script src="../script/ai.js"></script>
</body>
</html>